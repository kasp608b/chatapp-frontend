<h1>Chat</h1>
<div *ngIf="chatClient">
  <h1>Hi {{chatClient.nickName}}</h1>
  <label>
    Message:
    <input type="text" [formControl]="messageFC">
  </label>

  <button (click)="sendMessage()">Send Message</button>
  <h5
    *ngIf="clientsTyping.length > 0"
    style="color: cornflowerblue">
    Clients Typing:
    <span *ngFor="let client of clientsTyping; let i = index">
      {{client.nickName}}
      <span *ngIf="clientsTyping.length - 1 > i">,</span>
    </span>
  </h5>
</div>
<div *ngIf="!chatClient">
  <label>
    Name:
    <input type="text" [formControl]="nicknameFC">
  </label>

  <button (click)="sendNickname()">Send Nickname</button>
</div>

<div *ngIf="errorMessage">
<p>{{errorMessage}}</p>
</div>

<h3>Messages</h3>
<h4 *ngFor="let message of messages">
  {{message.sender.nickName}} ---- {{message.message}} ---- {{message.timeStamp | date:'hh:mm:ss'}}
</h4>

<div *ngIf="clients$ | async as clients">
  <h3>Users</h3>
<ul>
  <li *ngFor="let client of clients">
    {{client.nickName}}
  </li>
</ul>
</div>

